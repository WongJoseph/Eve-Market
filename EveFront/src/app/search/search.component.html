<div>
  <label>
    <ng-template #rt let-r="result" let-t="term">
      <img [src]="'https://image.eveonline.com/Type/'+r['typeID']+'_32.png'"width="32">
      {{r.typeName}}
    </ng-template>
    <label for="typeahead-template">Search for an Item Name:</label>
    <input id="typeahead-template" type="text" class="form-control" [(ngModel)]="model" [ngbTypeahead]="search" [resultTemplate]="rt" [inputFormatter]="formatter"/>
    <label>Region: </label>
    <select [(ngModel)]="regionID">
      <option *ngFor="let region of regions" [value]="region.regionID">{{region.name}}</option>
    </select>
    <button (click)="getOrder()">Search</button>
    <hr>
    <div *ngIf="selectItem != undefined">
      <div>
        <div><h3>{{selectItem.typeName}}</h3></div>
        <div class="row">
          <div class="col-lg-2 align">
            <img [src]="'https://image.eveonline.com/Type/'+selectItem['typeID']+'_64.png'"width="128">
          </div>
          <div class="col-lg-10">
            {{selectItem.description}}
          </div>
        </div>
      </div>
    </div>

  </label>
</div>
<div class="row">
  <table class="table table-striped table-hover col-lg-12">
    <thead class="thead-inverse">
    <tr>
      <th>ISSUED</th>
      <th><a href="#" (click)="sortPrice()">PRICE</a></th>
      <th>VOLUME</th>
      <th>LOCATION</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of orders; let ind = index ">
      <td>{{item.issued | date:'shortDate'}}</td>
      <td>{{item.price | number:'.2'}}</td>
      <td>{{item.volume_remain}}</td>
      <td>{{searchStation(item.location_id).stationName}}</td>
      <span>
        <div class="btn-group" ngbDropdown>
          <button type="button" class="btn btn-primary" (click)="addToCart(ind)">Add</button>
          <button class="btn btn-primary dropdown-toggle-split" ngbDropdownToggle>{{item.quantity}} </button>
          <div class="dropdown-menu" ngbDropdownMenu>
            <button class="dropdown-item" (click)="changeQuantity(ind,1)">1</button>
            <button class="dropdown-item" (click)="changeQuantity(ind,2)" >2</button>
            <button class="dropdown-item" (click)="changeQuantity(ind,3)">3</button>
            <button class="dropdown-item" (click)="changeQuantity(ind,4)">4</button>
            <button class="dropdown-item" (click)="changeQuantity(ind,5)">5</button>
            <button class="dropdown-item" (click)="changeQuantity(ind,6)">6</button>
            <button class="dropdown-item" (click)="changeQuantity(ind,7)">7</button>
            <button class="dropdown-item" (click)="changeQuantity(ind,8)">8</button>
            <button class="dropdown-item" (click)="changeQuantity(ind,9)">9</button>
            <button class="dropdown-item" (click)="changeQuantity(ind,10)">10</button>
            <button class="dropdown-item"><input style="width: 40px" type="text"></button>
          </div>
        </div>
      </span>
    </tr>
    </tbody>
  </table>
</div>
